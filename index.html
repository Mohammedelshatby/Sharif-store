<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø±ÙŠÙ Ø§Ù„Ø¬Ù†Ø¯ÙŠ - Ù†Ø³Ø®Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</title>
    <style>
        body { background: #000; color: #d4af37; font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 20px; }
        .box { border: 2px solid #d4af37; padding: 20px; margin-bottom: 20px; background: #111; border-radius: 10px; }
        .btn-gold { 
            background: #d4af37; color: #000; padding: 15px 25px; 
            border: none; border-radius: 5px; font-weight: bold; 
            font-size: 18px; cursor: pointer; margin: 10px; display: inline-block;
            width: 80%; max-width: 300px;
        }
        .modal { display:none; position:fixed; top:5%; left:5%; width:90%; height:90%; background:#1a1a1a; border:3px solid #d4af37; z-index:99999; padding:20px; overflow-y:auto; border-radius: 15px; }
        input, select { width: 90%; padding: 12px; margin: 10px 0; background: #000; color: #fff; border: 1px solid #d4af37; border-radius: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; color: #fff; }
        th, td { border: 1px solid #d4af37; padding: 10px; text-align: center; }
    </style>
</head>
<body>

<div class="box">
    <h1 id="title">Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø´Ø±ÙŠÙ Ø§Ù„Ø¬Ù†Ø¯ÙŠ</h1>
    <p>Ù„Ùˆ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…Ø´ Ø´ØºØ§Ù„Ø©ØŒ ØªØ£ÙƒØ¯ Ø¥Ù†Ùƒ Ù…Ø´ ÙØ§ØªØ­ Ø§Ù„ØµÙØ­Ø© Ù…Ù† Ø¬ÙˆÙ‡ "Ù…Ø¹Ø§ÙŠÙ†Ø©" GitHubØŒ Ø§ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±.</p>
</div>

<div class="box">
    <button class="btn-gold" onclick="document.getElementById('m_it').style.display='block'">ğŸ“¦ ØªÙƒÙˆÙŠØ¯ ØµÙ†Ù</button>
    <button class="btn-gold" onclick="document.getElementById('m_in').style.display='block'; loadItems('sel_in')">ğŸ“¥ Ø¥Ø°Ù† Ø¥Ø¶Ø§ÙØ©</button>
    <button class="btn-gold" onclick="document.getElementById('m_out').style.display='block'; loadItems('sel_out')">ğŸ“¤ Ø¥Ø°Ù† ØµØ±Ù</button>
    <button class="btn-gold" onclick="showInventory()">ğŸ“Š Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø®Ø²Ù†</button>
    <button class="btn-gold" style="background:#555; color:#fff;" onclick="checkAdmin()">ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ± (2525)</button>
</div>

<div id="admin_panel" class="box" style="display:none; border-style: dashed;">
    <h2>âš™ ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
    <input type="text" id="new_name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø´Ø£Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯">
    <button class="btn-gold" onclick="updateTitle()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù…</button>
    <div id="logs_view"></div>
</div>

<div id="m_it" class="modal">
    <h2>ØªÙƒÙˆÙŠØ¯ ØµÙ†Ù</h2>
    <input type="text" id="it_n" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù">
    <input type="text" id="it_c" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØµÙ†Ù">
    <button class="btn-gold" onclick="saveItem()">Ø­ÙØ¸</button>
    <button class="btn-gold" style="background:red" onclick="this.parentElement.style.display='none'">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<div id="m_in" class="modal">
    <h2>Ø¥Ø°Ù† Ø¥Ø¶Ø§ÙØ©</h2>
    <select id="sel_in"></select>
    <input type="number" id="qty_in" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
    <input type="text" id="cl_in" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯">
    <button class="btn-gold" onclick="saveLog('ÙˆØ§Ø±Ø¯')">ØªØ£ÙƒÙŠØ¯</button>
    <button class="btn-gold" style="background:red" onclick="this.parentElement.style.display='none'">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<div id="m_out" class="modal">
    <h2>Ø¥Ø°Ù† ØµØ±Ù</h2>
    <select id="sel_out"></select>
    <input type="number" id="qty_out" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
    <input type="text" id="cl_out" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
    <button class="btn-gold" onclick="saveLog('ØµØ±Ù')">ØªØ£ÙƒÙŠØ¯</button>
    <button class="btn-gold" style="background:red" onclick="this.parentElement.style.display='none'">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<div id="m_inv" class="modal">
    <h2>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¬Ø±Ø¯</h2>
    <div id="inv_table"></div>
    <button class="btn-gold" style="background:red" onclick="this.parentElement.style.display='none'">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    var db = JSON.parse(localStorage.getItem('SHARIF_V16')) || { name: "Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø´Ø±ÙŠÙ Ø§Ù„Ø¬Ù†Ø¯ÙŠ", items: [], logs: [] };
    document.getElementById('title').innerText = db.name;

    function saveItem() {
        var n = document.getElementById('it_n').value, c = document.getElementById('it_c').value;
        if(n && c) {
            db.items.push({n:n, c:c});
            saveDB(); alert("ØªÙ… Ø§Ù„ØªÙƒÙˆÙŠØ¯");
            document.getElementById('m_it').style.display='none';
        }
    }

    function loadItems(sid) {
        var s = document.getElementById(sid);
        s.innerHTML = db.items.map(function(i){ return '<option value="'+i.c+'">'+i.n+'</option>' }).join('');
    }

    function saveLog(type) {
        var c = (type=='ÙˆØ§Ø±Ø¯'? document.getElementById('sel_in').value : document.getElementById('sel_out').value);
        var q = (type=='ÙˆØ§Ø±Ø¯'? document.getElementById('qty_in').value : document.getElementById('qty_out').value);
        var cl = (type=='ÙˆØ§Ø±Ø¯'? document.getElementById('cl_in').value : document.getElementById('cl_out').value);
        if(c && q) {
            db.logs.push({id:Date.now(), c:c, q:parseFloat(q), t:type, cl:cl, d:new Date().toLocaleString()});
            saveDB(); alert("ØªÙ… Ø§Ù„Ø­ÙØ¸");
            document.getElementById('m_in').style.display='none';
            document.getElementById('m_out').style.display='none';
        }
    }

    function showInventory() {
        var h = '<table><tr><th>Ø§Ù„ØµÙ†Ù</th><th>Ø§Ù„Ø±ØµÙŠØ¯</th></tr>';
        db.items.forEach(function(i){
            var b = 0;
            db.logs.forEach(function(l){ if(l.c==i.c) b += (l.t=='ÙˆØ§Ø±Ø¯'?l.q:-l.q); });
            h += '<tr><td>'+i.n+'</td><td>'+b+'</td></tr>';
        });
        document.getElementById('inv_table').innerHTML = h + '</table>';
        document.getElementById('m_inv').style.display='block';
    }

    function checkAdmin() {
        var p = prompt("Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ØŸ");
        if(p=="2525") {
            document.getElementById('admin_panel').style.display='block';
            renderAdminLogs();
        }
    }

    function renderAdminLogs() {
        var h = '<table><tr><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø­Ø°Ù</th></tr>';
        db.logs.forEach(function(l){
            h += '<tr><td>'+l.d+'</td><td>'+l.t+'</td><td><button onclick="delLog('+l.id+')" style="color:red">X</button></td></tr>';
        });
        document.getElementById('logs_view').innerHTML = h + '</table>';
    }

    function delLog(id) {
        db.logs = db.logs.filter(function(x){ return x.id !== id });
        saveDB(); renderAdminLogs();
    }

    function updateTitle() {
        var v = document.getElementById('new_name').value;
        if(v) { db.name = v; document.getElementById('title').innerText = v; saveDB(); }
    }

    function saveDB() { localStorage.setItem('SHARIF_V16', JSON.stringify(db)); }
</script>

</body>
</html>
