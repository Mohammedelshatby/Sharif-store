<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø´Ø±ÙŠÙ Ø§Ù„Ø¬Ù†Ø¯ÙŠ V23</title>
    <style>
        body { background: #000; color: #d4af37; font-family: sans-serif; text-align: center; padding: 20px; }
        .btn { 
            background: #d4af37; color: #000; padding: 25px; 
            border: 4px solid #fff; border-radius: 15px; font-weight: bold; 
            font-size: 22px; cursor: pointer; margin: 10px; width: 90%;
            display: block;
        }
        .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:9999; padding-top: 50px; }
        input, select { width: 80%; padding: 15px; margin: 10px; font-size: 20px; border-radius: 10px; }
    </style>
</head>
<body>

<h1>Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø´Ø±ÙŠÙ Ø§Ù„Ø¬Ù†Ø¯ÙŠ</h1>
<p>Ù„Ùˆ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…Ù„Ù…Ø³ØªØ´ØŒ Ø§Ø¶ØºØ· Ø¨Ù‚ÙˆØ© Ø£Ùˆ Ø­Ø¯Ø« Ø§Ù„ØµÙØ­Ø©</p>

<button class="btn" onclick="document.getElementById('m1').style.display='block'">ğŸ“¦ ØµÙ†Ù Ø¬Ø¯ÙŠØ¯</button>
<button class="btn" onclick="document.getElementById('m2').style.display='block'">ğŸ‘¥ Ø¹Ù…ÙŠÙ„ / Ù…ÙˆØ±Ø¯</button>
<button class="btn" onclick="openMove('ÙˆØ§Ø±Ø¯')">ğŸ“¥ Ø¥Ø°Ù† Ø¥Ø¶Ø§ÙØ©</button>
<button class="btn" onclick="openMove('ØµØ±Ù')">ğŸ“¤ Ø¥Ø°Ù† ØµØ±Ù</button>
<button class="btn" onclick="showInv()">ğŸ“Š Ø§Ù„Ø¬Ø±Ø¯</button>
<button class="btn" style="background:red; color:#fff" onclick="var p=prompt('Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯:'); if(p=='2525'){ document.getElementById('m_admin').style.display='block'; }">ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</button>

<div id="m1" class="modal">
    <h2>ØªÙƒÙˆÙŠØ¯ ØµÙ†Ù</h2>
    <input type="text" id="i_n" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù">
    <input type="text" id="i_c" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØµÙ†Ù">
    <button class="btn" onclick="saveI()">Ø­ÙØ¸</button>
    <button class="btn" style="background:#555" onclick="this.parentElement.style.display='none'">Ø±Ø¬ÙˆØ¹</button>
</div>

<div id="m2" class="modal">
    <h2>ØªÙƒÙˆÙŠØ¯ Ø¹Ù…ÙŠÙ„/Ù…ÙˆØ±Ø¯</h2>
    <select id="e_t"><option value="Ù…ÙˆØ±Ø¯">Ù…ÙˆØ±Ø¯</option><option value="Ø¹Ù…ÙŠÙ„">Ø¹Ù…ÙŠÙ„</option></select>
    <input type="text" id="e_n" placeholder="Ø§Ù„Ø§Ø³Ù…">
    <button class="btn" onclick="saveE()">Ø­ÙØ¸</button>
    <button class="btn" style="background:#555" onclick="this.parentElement.style.display='none'">Ø±Ø¬ÙˆØ¹</button>
</div>

<div id="m3" class="modal">
    <h2 id="m_t">Ø­Ø±ÙƒØ©</h2>
    <input type="text" id="m_d" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¥Ø°Ù†">
    <select id="m_si"></select>
    <input type="number" id="m_q" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©">
    <select id="m_se"></select>
    <button class="btn" onclick="saveM()">ØªØ£ÙƒÙŠØ¯</button>
    <button class="btn" style="background:#555" onclick="this.parentElement.style.display='none'">Ø±Ø¬ÙˆØ¹</button>
</div>

<div id="m_admin" class="modal">
    <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
    <button class="btn" onclick="alert(JSON.stringify(db.logs))">Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª</button>
    <button class="btn" onclick="localStorage.clear(); location.reload();">ØªØµÙÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</button>
    <button class="btn" style="background:#555" onclick="this.parentElement.style.display='none'">Ø®Ø±ÙˆØ¬</button>
</div>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    var db = JSON.parse(localStorage.getItem('SHARIF_V23')) || { items:[], logs:[], entities:[] };
    var curT = "";

    function saveI() {
        db.items.push({n:document.getElementById('i_n').value, c:document.getElementById('i_c').value});
        save(); alert('ØªÙ…'); document.getElementById('m1').style.display='none';
    }

    function saveE() {
        db.entities.push({t:document.getElementById('e_t').value, n:document.getElementById('e_n').value});
        save(); alert('ØªÙ…'); document.getElementById('m2').style.display='none';
    }

    function openMove(t) {
        curT = t; document.getElementById('m_t').innerText = t;
        document.getElementById('m_si').innerHTML = db.items.map(i => <option value="${i.c}">${i.n}</option>).join('');
        document.getElementById('m_se').innerHTML = db.entities.map(e => <option value="${e.n}">${e.n}</option>).join('');
        document.getElementById('m3').style.display='block';
    }

    function saveM() {
        db.logs.push({t:curT, d:document.getElementById('m_d').value, i:document.getElementById('m_si').value, q:parseFloat(document.getElementById('m_q').value)});
        save(); alert('ØªÙ… Ø§Ù„Ø­ÙØ¸'); document.getElementById('m3').style.display='none';
    }

    function showInv() {
        var res = "Ø§Ù„Ø¬Ø±Ø¯:\n";
        db.items.forEach(it => {
            var b = 0;
            db.logs.forEach(l => { if(l.i==it.c) b += (l.t=='ÙˆØ§Ø±Ø¯' ? l.q : -l.q); });
            res += it.n + ": " + b + "\n";
        });
        alert(res);
    }

    function save() { localStorage.setItem('SHARIF_V23', JSON.stringify(db)); }
</script>

</body>
</html>
